<div class="container text-center">
    <form (submit)="save($event)" class="row align-items-start">
        <div class="col-2">
            <select class="form-select" aria-label="Default select example" [(ngModel)]="product.type" name="type">
                <option (click)="selectType('aceite')">Aceite</option>
                <option (click)="selectType('filtro')">Filtro</option>
                <option (click)="selectType('aditivo')">Aditivo</option>
              </select>
        </div>
        <input class="input-group-text col-2" type="text" [(ngModel)]="product.brand" name="brand" placeholder="Marca" required>
        <input class="input-group-text col-2" type="text" [(ngModel)]="product.price" name="price" placeholder="price" required>
        <input class="input-group-text col-2" type="text" [(ngModel)]="product.stock" name="stock" placeholder="Stock" required>
        <button class="btn btn-dark col-1" type="submit">Guardar</button>
    </form>
</div>

<table class="table">
    <thead>
        <tr>
            <th>Tipo</th>
            <th>Marca</th>
            <th>Precio</th>
            <th>stock</th>
        </tr>
    </thead>
    <tbody>
        @for(product of products; track product.id) {
            <tr>
                <td>{{ product.type}}</td>
                <td>{{ product.brand}}</td>
                <td>{{ product.price | currency}}</td>
                @if(product.stock == 0) {
                    <td>{{ product.stock}}  <span class="badge text-bg-warning">SIN STOCK</span></td>
                }@else {
                    <td>{{ product.stock}}</td>
                }
                <td>
                    <button class="btn btn-outline-primary" (click)="updateProduct(product.id)">Editar</button>
                    <button class="btn btn-outline-danger" (click)="delete(product)">Eliminar</button>
                </td>
            </tr>
        }@empty {
            <tr>
                <td colspan="5">No hay productos</td>
            </tr>
        }
       
    </tbody>
</table>
